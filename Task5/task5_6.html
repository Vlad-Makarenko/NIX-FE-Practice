<!DOCTYPE html>

<html>
  <head>
    <title>Список, що розкривається</title>
    <meta charset="utf-8" />
    <style type="text/css">
      ul.expandable li {
        list-style-image: url("./img/point.gif");
      }
      li ul.expandable {
        display: none;
      }
    </style>
    <script type="text/javascript">
      window.onload = setPlusIcon;
      function setPlusIcon() {
        const lists = document.querySelectorAll(".expandable li");
        lists.forEach((list) => {
          if (list.childElementCount > 1)
            list.style.listStyleImage = 'url("./img/plus.gif")';
        });

        const links = [...document.querySelectorAll("a")];
        links.forEach((link) => {
          link.addEventListener("click", aClick);
        });
      }

      function aClick(e) {
        e.preventDefault();
        if (e.target.parentNode.style.listStyleImage === 'url("./img/minus.gif")') {
          e.target.nextElementSibling.style.display = "none";
          e.target.parentNode.style.listStyleImage = 'url("./img/plus.gif")';
        } else if (e.target.nextElementSibling) {
          e.target.nextElementSibling.style.display = "block";
          e.target.parentNode.style.listStyleImage = 'url("./img/minus.gif")';
        }
      }
    </script>
  </head>

  <body>
    <h1>Приклад списку, що розкривається</h1>
    <ul class="expandable">
      <li>
        <a href="#">Книги</a>
        <ul class="expandable">
          <li>
            <a href="#">Відчизняні</a>
            <ul class="expandable">
              <li><a href="#">Детективи</a></li>
              <li><a href="#">Наукова фантастика</a></li>
              <li><a href="#">Історичні</a></li>
            </ul>
          </li>
          <li>
            <a href="#">Зарубіжні</a>
            <ul class="expandable">
              <li><a href="#">Детективи</a></li>
              <li><a href="#">Наукова фантастика</a></li>
              <li><a href="#">Історичні</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a href="#">DVD</a>
        <ul class="expandable">
          <li>
            <a href="#">Відчизняні</a>
            <ul class="expandable">
              <li><a href="#">Детективи</a></li>
              <li><a href="#">Наукова фантастика</a></li>
              <li><a href="#">Історичні</a></li>
            </ul>
          </li>
          <li>
            <a href="#">Зарубіжні</a>
            <ul class="expandable">
              <li><a href="#">Детективи</a></li>
              <li><a href="#">Наукова фантастика</a></li>
              <li><a href="#">Історичні</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </body>
</html>
